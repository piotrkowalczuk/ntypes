language: go
dist: trusty
sudo: required
go:
- 1.8
install:
- go get
script:
- go test -coverprofile=coverage.txt -covermode=atomic
after_success:
- bash <(curl -s https://codecov.io/bash)
notifications:
  slack:
    secure: $SLACK_SECURE
before_deploy:
- make version
- python setup.py egg_info
deploy:
  provider: pypi
  skip_cleanup: true
  skip_upload_docs: true
  user: piotrkowalczuk
  password:
    secure: p3JmjjofGcBsft669SYYJhuoD2RQyjsrR94TXvnTl32CwBlroiDkzMpP8yhEUAVDRs47N8XCvYv2W9ZR6MPPMv+5qia7lCyW0oLoU1LcZsN4y4uM5I+u5T0yAYeAqkHWUk5OMBOgkX3xTTzBKBrHYeZ6rf7r71OY1wgG3jG+gLrfCbqOe4gArH2tsG8u4mgaOoae6jxljCrZAbTrhND3vxmGaab+2rku8ls3FClEsZUCkXJofyqttR6+WaRQ7nUqqgmkelbX7I41KopbzKmCx0I4uaaHsobUwJznNZU7/ChP4XQXgwTfk5BUhSjiHu0wqE/ndHCfJe8JbbNIbZbnYUU54/UBZmT/9emgw6/BcIj44zzSIFV8vwOWN6r7C2hg7E6u8jtz4xAh2gVp7IfMKzvMpNsmpXdpT90Gx28nj5gkJDXzq5hxNiT1XqsENNKLsUkRB4B54QmPmQ6AEjxDVOrRpAGBFjDmmmNrfObZbOlWY9cqI2nWHShqXKzTcTKRbqolHBdEWdMLdZIGbgYhjBkkB0ki+K4qrkWCq3W7trkeAvFoYT8xtrljU/GjLlK4JcECtkFcIwlsj2yspZnKLSHwAJ/O4RadIvSAM6DdnahgrCx+0cIyXEQOO60fTCW6neXem5KIzozLmuiW/TWitvtwEjDvs0a+5jDgyRQYHAY=
  on:
    tags: true
